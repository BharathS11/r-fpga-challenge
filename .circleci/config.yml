version: 2
jobs:
   build:
     docker:
       - image: kazimuth2/r-fpga-challenge:latest
     steps:
       - checkout
       - run: |
          # JANK ALERT
          # if the branch name has "actual" in it, or if we're on kazimuth/master,
          # run actual tests;
          # otherwise, run only the tests for the latest week,
          # and accept any language passing as all tests passing
          set -e
          if [[ $CIRCLE_BRANCH == *"actual"* ]] || [[ $CIRCLE_BRANCH == "master" ]] && [[ $CIRCLE_USERNAME == "kazimuth" ]]; then
             ./test-submission.sh
          else
             ./test-actual.sh
          fi
         

